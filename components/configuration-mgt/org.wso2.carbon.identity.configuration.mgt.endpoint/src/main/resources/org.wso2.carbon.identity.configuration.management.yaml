swagger: '2.0'
######################################################
# Prolog
######################################################
info:
  version: "1.0.0"
  title: "WSO2 Identity Server Configuration Management Rest API"
  description: |
    This document specifies a **Configurations Management RESTfulAPI** for WSO2 **Identity Server** .

    It is written with [swagger 2](http://swagger.io/).

  contact:
    name: "WSO2"
    url: "http://wso2.com/products/identity-server/"
    email: "architecture@wso2.com"
  license:
    name: "Apache 2.0"
    url: "http://www.apache.org/licenses/LICENSE-2.0.html"

######################################################
# The fixed parts of the URLs of the API
######################################################

# The schemes supported by the API
schemes:
  - https

# The domain of the API.
# This is configured by the customer during deployment.
# The given host is just an example.
# host: apis.is.com

# The base path of the API.
# Will be prefixed to all paths.
# if the tenant domain is carbon.super basepath can be /api/identity/config-mgt/v1.0 like this too.

basePath: /t/{tenant-domain}/api/identity/config-mgt/v1.0

# The following media types can be passed as input in message bodies of the API.
# The actual media type must be specified in the Content-Type header field of the request.
# The default is json, i.e. the Content-Type header is not needed to
# be set, but supporting it serves extensibility.
consumes:
  - application/json

# The following media types may be passed as output in message bodies of the API.
# The media type(s) consumable by the requester is specified in the Accept header field
# of the corresponding request.
# The actual media type returned will be specified in the Content-Type header field
# of the of the response.
# The default of the Accept header is json, i.e. there is not needed to
# set the value, but supporting it serves extensibility.
produces:
  - application/json
paths:
  # Endpoint used to perform tenant based search
  "/search":
    get:
      description: |
        This API is used to search resources across tenants with the given search query. Please refer the
        documentation for the usage.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1.0/api/identity/config-mgt/v1.0/search?$filter=<search-query>" -H "accept: application/json" -H "Authorization: Basic <Base64Encoded[username:password]>"
      x-wso2-curl: |
        curl -k -X GET 'https://localhost:9443/api/identity/config-mgt/v1.0/search?$filter=%28tenantDomain%20eq%20%27carbon.super%27%29%20%20and%20%28resourceTypeName%20eq%20%27e-mail%27%29' -H 'Authorization: Basic YWRtaW46YWRtaW4=' -H "accept: application/json"
      x-wso2-response: |
        {"resources":[{"resourceId":"7ff6fa9f-adca-4187-b71f-2c780c644a54","tenantDomain":"carbon.super","resourceName":"smtp","resourceType":"e-mail","lastModified":"2018-12-21 06:01:29","files":[],"attributes":[{"key":"from","value":"3abc.com","attributeId":"fc30371a-b803-48c2-b7cf-bf3233575c7d"},{"key":"to","value":"3wso2.com","attributeId":"2230b85a-ae72-4cfa-8b34-5367790bd5cb"}],"hasFile":false,"hasAttribute":false}]}
      summary: |
        Retrieve tenant resources based on search parameters.
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Resources'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Search

  # Endpoint used to create resource types
  "/resource-type":
    post:
      description: |
        This API is used to create a new resource type.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1.0/api/identity/config-mgt/v1.0/search?$filter=<search-query>" -H "accept: application/json" -H "Authorization: Basic <Base64Encoded[username:password]>"
      x-wso2-curl: |
        curl -k -X GET 'https://localhost:9443/api/identity/config-mgt/v1.0/search?$filter=%28tenantDomain%20eq%20%27carbon.super%27%29%20%20and%20%28resourceTypeName%20eq%20%27e-mail%27%29' -H 'Authorization: Basic YWRtaW46YWRtaW4=' -H "accept: application/json"
      x-wso2-response: |
        {"resources":[{"resourceId":"7ff6fa9f-adca-4187-b71f-2c780c644a54","tenantDomain":"carbon.super","resourceName":"smtp","resourceType":"e-mail","lastModified":"2018-12-21 06:01:29","files":[],"attributes":[{"key":"from","value":"3abc.com","attributeId":"fc30371a-b803-48c2-b7cf-bf3233575c7d"},{"key":"to","value":"3wso2.com","attributeId":"2230b85a-ae72-4cfa-8b34-5367790bd5cb"}],"hasFile":false,"hasAttribute":false}]}
      summary: |
        Create the resource type.
      parameters:
        - name: type
          in: body
          description: This represents the resource type to be added.
          required: true
          schema:
            $ref: '#/definitions/ResourceTypeAdd'
      responses:
        201:
          description: Successful response
          schema:
            $ref: '#/definitions/ResourceType'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource Type
    put:
      description: |
        This API is used to create or replace a new resource type.
      x-wso2-request: |
        curl -k -X PUT "https://localhost:9443/api/identity/config-mgt/v1.0/resource-type" -H "Authorization: Basic
              <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"name\": \"string\",\n  \"description\": \"string\"\n}"
      x-wso2-curl: |
        curl -k -X PUT "https://localhost:9443/api/identity/config-mgt/v1.0/resource-type" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"name\": \"e-mail\",\n  \"description\": \"This is the resource type for email resources.\"\n}"
      x-wso2-response: |
        {\n    \"name\": \"e-mail\",\n    \"id\": \"2700105f-1152-44a1-8d6d-8bef577ad768\",\n    \"description\": \"This is the resource type for email resources.\"\n}
      summary: |
        Create or replace the resource type.
      parameters:
        - name: type
          in: body
          description: This represents the resource type to be added.
          required: true
          schema:
            $ref: '#/definitions/ResourceTypeAdd'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/ResourceType'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource Type
    patch:
      description: |
        This API is used to update an existing resource type.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"<Service_Name>\", \"tenantDomain\": \"<Tenant_Domain_Name>\", \"purposes\": [ { \"purposeId\": <Purpose_ID>, \"purposeCategoryId\": [ <Purpose_Category_ID> ], \"consentType\": \"<Consent_Type>\", \"piiCategory\": [ { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" }, { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" } ], \"primaryPurpose\": true, \"termination\": \"days:<Number_Of_Days>\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"<Collection_Method>\", \"jurisdiction\": \"<Jurisdiction>\", \"language\": \"<Language_Abbreviation>\", \"policyURL\": \"<Service_Policy_URL>", \"properties\": [ { \"key\": \"<PII_Controller's_Public_Key>\", \"value\": \"v1\" } ]}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"foo-service\", \"tenantDomain\": \"carbon.super\", \"purposes\": [ { \"purposeId\": 1, \"purposeCategoryId\": [ 1 ], \"consentType\": \"EXPLICIT\", \"piiCategory\": [ { \"piiCategoryId\": 1, \"validity\": \"days:30\" }, { \"piiCategoryId\": 2, \"validity\": \"days:30\" } ], \"primaryPurpose\": true, \"termination\": \"days:30\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"Sign-Up\", \"jurisdiction\": \"CA\", \"language\": \"EN\", \"policyURL\": \"https://foo.com/privacy\", \"properties\": [ { \"key\": \"k1\", \"value\": \"v1\" } ]}"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Update existing resource type.
      parameters:
        - name: type
          in: body
          description: This represents the resource type to update the existing.
          required: true
          schema:
            $ref: '#/definitions/ResourceTypeAdd'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/ResourceType'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource Type

  "/resource-type/{resource-type-name}":
    get:
      description: |
        This API is used to get an existing resource type.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1.0/resource-type/<resource-type-name>" -H
              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-curl: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1.0/resource-type/e-mail" -H
              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-response: |
        {\n    \"name\": \"e-mail\",\n    \"id\": \"2700105f-1152-44a1-8d6d-8bef577ad768\",\n    \"description\": \"This is the resource type for email resources.\"\n}
      summary: |
        Get the resource type.
      parameters:
        - name: resource-type-name
          in: path
          description: This represents the resource type to be retrieved.
          required: true
          type: string
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/ResourceType'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource Type
    delete:
      description: |
        This API is used to delete an existing resource type.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1.0/resource-type/<resource-type-name>" -H
              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-curl: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1.0/resource-type/e-mail" -H
              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-response: |
        HTTP/1.1 200 Ok
      summary: |
        Revoke resource type.
      parameters:
        - name: resource-type-name
          in: path
          description: This represents the resource type to be revoked.
          required: true
          type: string
      responses:
        200:
          description: Ok
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource Type

  # Endpoint used to get tenant resources
  "/resource":
    get:
      description: |
        This API is used to retrieve resources.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"<Service_Name>\", \"tenantDomain\": \"<Tenant_Domain_Name>\", \"purposes\": [ { \"purposeId\": <Purpose_ID>, \"purposeCategoryId\": [ <Purpose_Category_ID> ], \"consentType\": \"<Consent_Type>\", \"piiCategory\": [ { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" }, { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" } ], \"primaryPurpose\": true, \"termination\": \"days:<Number_Of_Days>\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"<Collection_Method>\", \"jurisdiction\": \"<Jurisdiction>\", \"language\": \"<Language_Abbreviation>\", \"policyURL\": \"<Service_Policy_URL>", \"properties\": [ { \"key\": \"<PII_Controller's_Public_Key>\", \"value\": \"v1\" } ]}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"foo-service\", \"tenantDomain\": \"carbon.super\", \"purposes\": [ { \"purposeId\": 1, \"purposeCategoryId\": [ 1 ], \"consentType\": \"EXPLICIT\", \"piiCategory\": [ { \"piiCategoryId\": 1, \"validity\": \"days:30\" }, { \"piiCategoryId\": 2, \"validity\": \"days:30\" } ], \"primaryPurpose\": true, \"termination\": \"days:30\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"Sign-Up\", \"jurisdiction\": \"CA\", \"language\": \"EN\", \"policyURL\": \"https://foo.com/privacy\", \"properties\": [ { \"key\": \"k1\", \"value\": \"v1\" } ]}"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Retrieve resources.
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Resources'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resources

  "/resource/file/{file-id}":
    get:
      produces:
        - 'application/octet-stream'
      description: |
        This API is used to retrieve a file.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
              .0/resource/<resource-type>/<resource-name>/<attribute-key>" -H "Authorization: Basic
              <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-curl: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1.0/resource/e-mail/smtp/from" -H
                    "Authorization:
                    Basic
                    YWRtaW46YWRtaW4=" -H "accept: application/json"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Retrieve the file.
      parameters:
        - name: file-id
          in: path
          description: This represents a file id of the file to be retrieved.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
          schema:
            type: file
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - File
    delete:
      description: |
        This API is used to revoke a file in the tenant domain given by the user.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"<Service_Name>\", \"tenantDomain\": \"<Tenant_Domain_Name>\", \"purposes\": [ { \"purposeId\": <Purpose_ID>, \"purposeCategoryId\": [ <Purpose_Category_ID> ], \"consentType\": \"<Consent_Type>\", \"piiCategory\": [ { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" }, { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" } ], \"primaryPurpose\": true, \"termination\": \"days:<Number_Of_Days>\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"<Collection_Method>\", \"jurisdiction\": \"<Jurisdiction>\", \"language\": \"<Language_Abbreviation>\", \"policyURL\": \"<Service_Policy_URL>", \"properties\": [ { \"key\": \"<PII_Controller's_Public_Key>\", \"value\": \"v1\" } ]}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"foo-service\", \"tenantDomain\": \"carbon.super\", \"purposes\": [ { \"purposeId\": 1, \"purposeCategoryId\": [ 1 ], \"consentType\": \"EXPLICIT\", \"piiCategory\": [ { \"piiCategoryId\": 1, \"validity\": \"days:30\" }, { \"piiCategoryId\": 2, \"validity\": \"days:30\" } ], \"primaryPurpose\": true, \"termination\": \"days:30\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"Sign-Up\", \"jurisdiction\": \"CA\", \"language\": \"EN\", \"policyURL\": \"https://foo.com/privacy\", \"properties\": [ { \"key\": \"k1\", \"value\": \"v1\" } ]}"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Revoke the file
      parameters:
        - name: file-id
          in: path
          description: This represents a file id of the file to be retrieved.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/Error'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - File

  "/resource/resource-type/{resource-type-name}":
    get:
      description: |
        This API is used to retrieve all the resources for a given resource type.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"<Service_Name>\", \"tenantDomain\": \"<Tenant_Domain_Name>\", \"purposes\": [ { \"purposeId\": <Purpose_ID>, \"purposeCategoryId\": [ <Purpose_Category_ID> ], \"consentType\": \"<Consent_Type>\", \"piiCategory\": [ { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" }, { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" } ], \"primaryPurpose\": true, \"termination\": \"days:<Number_Of_Days>\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"<Collection_Method>\", \"jurisdiction\": \"<Jurisdiction>\", \"language\": \"<Language_Abbreviation>\", \"policyURL\": \"<Service_Policy_URL>", \"properties\": [ { \"key\": \"<PII_Controller's_Public_Key>\", \"value\": \"v1\" } ]}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"foo-service\", \"tenantDomain\": \"carbon.super\", \"purposes\": [ { \"purposeId\": 1, \"purposeCategoryId\": [ 1 ], \"consentType\": \"EXPLICIT\", \"piiCategory\": [ { \"piiCategoryId\": 1, \"validity\": \"days:30\" }, { \"piiCategoryId\": 2, \"validity\": \"days:30\" } ], \"primaryPurpose\": true, \"termination\": \"days:30\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"Sign-Up\", \"jurisdiction\": \"CA\", \"language\": \"EN\", \"policyURL\": \"https://foo.com/privacy\", \"properties\": [ { \"key\": \"k1\", \"value\": \"v1\" } ]}"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Retrieve all the resources for the given resource type.
      parameters:
        - name: resource-type-name
          in: path
          description:  This represents the name of the resource type to be retrieved.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Resources'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resources

  "/resource/{resource-type}":
    post:
      description: |
        This API is used to store the resource given by the user.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/resource/<resource-type>" -H
              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"name\": \"string\",\n  \"attributes\": [\n    {\n      \"key\": \"string\",\n      \"value\": \"string\"\n    }\n  ]\n}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/resource/e-mail" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"name\": \"smtp\",\n  \"attributes\": [\n    {\n      \"key\": \"from\",\n      \"value\": \"3abc.com\"\n    },\n    {\n      \"key\": \"to\",\n      \"value\": \"3wso2.com\"\n    }\n  ]\n}"
      x-wso2-response: |
        {\n    \"resourceId\": \"a01dd245-8014-4207-b5ad-371008f9adfc\",\n    \"tenantDomain\": \"carbon.super\",\n    \"resourceName\": \"smtp\",\n    \"resourceType\": \"e-mail-1\",\n    \"lastModified\": \"2018-12-20T12:30:42.620Z\",\n    \"attributes\": [\n        {\n            \"key\": \"from\",\n            \"value\": \"3abc.com\"\n        },\n        {\n            \"key\": \"to\",\n            \"value\": \"3wso2.com\"\n        }\n    ],\n    \"files\": []\n}
      summary: |
        Create the resource
      # post parameters:
      parameters:
        - name: resource-type
          in: path
          description:  This represents the type of the resource to be added.
          required: true
          type: 'string'
        - name: resource
          in: body
          description:  This represents the resource that needs to be added.
          required: true
          schema:
            $ref: '#/definitions/ResourceAdd'
      responses:
        201:
          description: Successful response
          schema:
            $ref: '#/definitions/Resource'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource
    put:
      description: |
        This API is used to store or replace the resource given by the user.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/resource/<resource-type>" -H
              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"name\": \"string\",\n  \"attributes\": [\n    {\n      \"key\": \"string\",\n      \"value\": \"string\"\n    }\n  ]\n}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/resource/e-mail" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"name\": \"smtp\",\n  \"attributes\": [\n    {\n      \"key\": \"from\",\n      \"value\": \"3abc.com\"\n    },\n    {\n      \"key\": \"to\",\n      \"value\": \"3wso2.com\"\n    }\n  ]\n}"
      x-wso2-response: |
        {\n    \"resourceId\": \"a01dd245-8014-4207-b5ad-371008f9adfc\",\n    \"tenantDomain\": \"carbon.super\",\n    \"resourceName\": \"smtp\",\n    \"resourceType\": \"e-mail-1\",\n    \"lastModified\": \"2018-12-20T12:30:42.620Z\",\n    \"attributes\": [\n        {\n            \"key\": \"from\",\n            \"value\": \"3abc.com\"\n        },\n        {\n            \"key\": \"to\",\n            \"value\": \"3wso2.com\"\n        }\n    ],\n    \"files\": []\n}
      summary: |
        Add or Replace the resource
      # put parameters:
      parameters:
        - name: resource-type
          in: path
          description:  This represents the type of the resource to be added and can either be the name or id.
          required: true
          type: 'string'
        - name: resource
          in: body
          description:  This represents the resource that need to be added or replaced.
          required: true
          schema:
            $ref: '#/definitions/ResourceAdd'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Resource'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource
    patch:
      description: |
        This API is used to update an existing resource given by the user.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"<Service_Name>\", \"tenantDomain\": \"<Tenant_Domain_Name>\", \"purposes\": [ { \"purposeId\": <Purpose_ID>, \"purposeCategoryId\": [ <Purpose_Category_ID> ], \"consentType\": \"<Consent_Type>\", \"piiCategory\": [ { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" }, { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" } ], \"primaryPurpose\": true, \"termination\": \"days:<Number_Of_Days>\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"<Collection_Method>\", \"jurisdiction\": \"<Jurisdiction>\", \"language\": \"<Language_Abbreviation>\", \"policyURL\": \"<Service_Policy_URL>", \"properties\": [ { \"key\": \"<PII_Controller's_Public_Key>\", \"value\": \"v1\" } ]}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"foo-service\", \"tenantDomain\": \"carbon.super\", \"purposes\": [ { \"purposeId\": 1, \"purposeCategoryId\": [ 1 ], \"consentType\": \"EXPLICIT\", \"piiCategory\": [ { \"piiCategoryId\": 1, \"validity\": \"days:30\" }, { \"piiCategoryId\": 2, \"validity\": \"days:30\" } ], \"primaryPurpose\": true, \"termination\": \"days:30\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"Sign-Up\", \"jurisdiction\": \"CA\", \"language\": \"EN\", \"policyURL\": \"https://foo.com/privacy\", \"properties\": [ { \"key\": \"k1\", \"value\": \"v1\" } ]}"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Update existing resource
      # patch parameters:
      parameters:
        - name: resource-type
          in: path
          description:  This represents the type of the resource to be added and can either be the name or id.
          required: true
          type: 'string'
        - name: resource
          in: body
          description:  This represents the resource that needs to be updated.
          required: true
          schema:
            $ref: '#/definitions/ResourceAdd'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Resource'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource

  "/resource/{resource-type}/{resource-name}":
    get:
      description: |
        This API is used to retrieve a resource.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
              .0/resource/<resource-type>/<resource-name>" -H
                      "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-curl: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
                      .0/resource/email/smtp" -H
                              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-response: |
        {\n    \"resourceId\": \"dea08fd5-9a8c-4956-990f-3921819eecdf\",\n    \"tenantDomain\": \"carbon.super\",\n    \"resourceName\": \"smtp\",\n    \"resourceType\": \"e-mail\",\n    \"lastModified\": \"2018-12-20 12:36:23\",\n    \"attributes\": [\n        {\n            \"key\": \"from\",\n            \"value\": \"3abc.com\"\n        },\n        {\n            \"key\": \"to\",\n            \"value\": \"3wso2.com\"\n        }\n    ],\n    \"files\": []\n}
      summary: |
        Retrieve the resource.
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the resource to be retrieved.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the resource to be added and can either be the name or id.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Resource'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource
    delete:
      description: |
        This API is used to revoke a resource in the tenant domain given by the user.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
              .0/resource/<resource-type>/<resource-name>" -H
                      "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-curl: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
                      .0/resource/email/smtp" -H
                              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-response: |
        HTTP/1.1 200 Ok
      summary: |
        Revoke the resource
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the resource to be revoked.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the resource to be added and can either be the name or id.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/Error'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Resource

  "/resource/{resource-type}/{resource-name}/attribute":
    post:
      description: |
        This API is used to store an attribute given by the user.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/resource/<resource-type>/<resource-name>"
               -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"key\": \"string\",\n  \"value\": \"string\"\n}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/resource/e-mail/smtp" -H "Authorization:
                    Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n    \"key\": \"from\",\n    \"value\": \"hey\"\n}"
      x-wso2-response: |
        {\n    \"key\": \"from\",\n    \"value\": \"hey\"\n}
      summary: |
        Create an attribute
      # post parameters:
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the attribute to be added.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the attribute to be added and can either be the name or id.
          required: true
          type: 'string'
        - name: attribute
          in: body
          description:  This represents the corresponding attribute value that needs to be added.
          schema:
            $ref: '#/definitions/Attribute'
      responses:
        201:
          description: Successful response
          schema:
            $ref: '#/definitions/Attribute'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Attribute
    put:
      description: |
        This API is used to store or replace an attribute given by the user.
      x-wso2-request: |
        curl -k -X PUT "https://localhost:9443/api/identity/config-mgt/v1
        .0/resource/<resource-type>/<resource-name>"
               -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"key\": \"string\",\n  \"value\": \"string\"\n}"
      x-wso2-curl: |
        curl -k -X PUT "https://localhost:9443/api/identity/config-mgt/v1.0/resource/e-mail/smtp" -H "Authorization:
                    Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n    \"key\": \"from\",\n    \"value\": \"hey\"\n}"
      x-wso2-response: |
        {\n    \"key\": \"from\",\n    \"value\": \"hey\"\n}
      summary: |
        Add or Replace an attribute
      # put parameters:
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the attribute to be added or replaced.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the attribute to be added or replaced and can either be the name or id.
          required: true
          type: 'string'
        - name: attribute
          in: body
          description:  This represents the corresponding attribute value that needs to be added or replaced.
          required: true
          schema:
            $ref: '#/definitions/Attribute'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Attribute'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Attribute
    patch:
      description: |
        This API is used to update an existing attribute given by the user.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"<Service_Name>\", \"tenantDomain\": \"<Tenant_Domain_Name>\", \"purposes\": [ { \"purposeId\": <Purpose_ID>, \"purposeCategoryId\": [ <Purpose_Category_ID> ], \"consentType\": \"<Consent_Type>\", \"piiCategory\": [ { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" }, { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" } ], \"primaryPurpose\": true, \"termination\": \"days:<Number_Of_Days>\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"<Collection_Method>\", \"jurisdiction\": \"<Jurisdiction>\", \"language\": \"<Language_Abbreviation>\", \"policyURL\": \"<Service_Policy_URL>", \"properties\": [ { \"key\": \"<PII_Controller's_Public_Key>\", \"value\": \"v1\" } ]}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"foo-service\", \"tenantDomain\": \"carbon.super\", \"purposes\": [ { \"purposeId\": 1, \"purposeCategoryId\": [ 1 ], \"consentType\": \"EXPLICIT\", \"piiCategory\": [ { \"piiCategoryId\": 1, \"validity\": \"days:30\" }, { \"piiCategoryId\": 2, \"validity\": \"days:30\" } ], \"primaryPurpose\": true, \"termination\": \"days:30\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"Sign-Up\", \"jurisdiction\": \"CA\", \"language\": \"EN\", \"policyURL\": \"https://foo.com/privacy\", \"properties\": [ { \"key\": \"k1\", \"value\": \"v1\" } ]}"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Update existing attribute
      # patch parameters:
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the attribute to be added or updated.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the attribute to be added or updated and can either be the name or id.
          required: true
          type: 'string'
        - name: attribute
          in: body
          description:  This represents the corresponding attribute value that needs to be added or updated.
          required: true
          schema:
            $ref: '#/definitions/Attribute'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Attribute'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Attribute

  "/resource/{resource-type}/{resource-name}/file":
    post:
      consumes:
        - multipart/form-data
      description: |
        This API is used to store a file given by the user.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/resource/<resource-type>/<resource-name>"
               -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n  \"key\": \"string\",\n  \"value\": \"string\"\n}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/resource/e-mail/smtp" -H "Authorization:
                    Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\n    \"key\": \"from\",\n    \"value\": \"hey\"\n}"
      x-wso2-response: |
        {\n    \"key\": \"from\",\n    \"value\": \"hey\"\n}
      summary: |
        Create a file
      # post parameters:
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the attribute to be added.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the attribute to be added and can either be the name or id.
          required: true
          type: 'string'
        - name: resourceFile
          in: formData
          type: file
          description: This represents the corresponding resource file that needs to be added.
      responses:
        201:
          description: Successful response
          schema:
            $ref: '#/definitions/ResourceFile'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        409:
          description: Conflict
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - File

    get:
      description: |
        This API is used to retrieve all the files for the resource.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
              .0/resource/<resource-type>/<resource-name>" -H
                      "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-curl: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
                      .0/resource/email/smtp" -H
                              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-response: |
        {\n    \"resourceId\": \"dea08fd5-9a8c-4956-990f-3921819eecdf\",\n    \"tenantDomain\": \"carbon.super\",\n    \"resourceName\": \"smtp\",\n    \"resourceType\": \"e-mail\",\n    \"lastModified\": \"2018-12-20 12:36:23\",\n    \"attributes\": [\n        {\n            \"key\": \"from\",\n            \"value\": \"3abc.com\"\n        },\n        {\n            \"key\": \"to\",\n            \"value\": \"3wso2.com\"\n        }\n    ],\n    \"files\": []\n}
      summary: |
        Retrieve all the files for the resource.
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the resource to be retrieved.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the resource to be added and can either be the name or id.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
          schema:
            type: array
            items:
              $ref: '#/definitions/ResourceFile'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - File
    delete:
      description: |
        This API is used to revoke all the files for the resource.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
              .0/resource/<resource-type>/<resource-name>" -H
                      "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-curl: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
                      .0/resource/email/smtp" -H
                              "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-response: |
        HTTP/1.1 200 Ok
      summary: |
        Revoke all the files for the resource
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the resource to be revoked.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the resource to be added and can either be the name or id.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/Error'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - File

  "/resource/{resource-type}/{resource-name}/attribute/{attribute-key}":
    get:
      description: |
        This API is used to retrieve a attribute.
      x-wso2-request: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1
              .0/resource/<resource-type>/<resource-name>/<attribute-key>" -H "Authorization: Basic
              <Base64Encoded[username:password]>" -H "accept: application/json"
      x-wso2-curl: |
        curl -k -X GET "https://localhost:9443/api/identity/config-mgt/v1.0/resource/e-mail/smtp/from" -H
                    "Authorization:
                    Basic
                    YWRtaW46YWRtaW4=" -H "accept: application/json"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Retrieve the attribute.
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the attribute to be retrieved.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description: This represents the type of the attribute to be retrieved and can either be the name or id.
          required: true
          type: 'string'
        - name: attribute-key
          in: path
          description: This represents an attribute key of the attribute to be retrieved.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
          schema:
            $ref: '#/definitions/Attribute'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Attribute
    delete:
      description: |
        This API is used to revoke a attribute in the tenant domain given by the user.
      x-wso2-request: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic <Base64Encoded[username:password]>" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"<Service_Name>\", \"tenantDomain\": \"<Tenant_Domain_Name>\", \"purposes\": [ { \"purposeId\": <Purpose_ID>, \"purposeCategoryId\": [ <Purpose_Category_ID> ], \"consentType\": \"<Consent_Type>\", \"piiCategory\": [ { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" }, { \"piiCategoryId\": <PII_Category_ID>, \"validity\": \"days:<Number_Of_Days>\" } ], \"primaryPurpose\": true, \"termination\": \"days:<Number_Of_Days>\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"<Collection_Method>\", \"jurisdiction\": \"<Jurisdiction>\", \"language\": \"<Language_Abbreviation>\", \"policyURL\": \"<Service_Policy_URL>", \"properties\": [ { \"key\": \"<PII_Controller's_Public_Key>\", \"value\": \"v1\" } ]}"
      x-wso2-curl: |
        curl -k -X POST "https://localhost:9443/api/identity/config-mgt/v1.0/consents" -H "Authorization: Basic YWRtaW46YWRtaW4=" -H "accept: application/json" -H "Content-Type: application/json" -d "{\"services\": [ { \"service\": \"foo-service\", \"tenantDomain\": \"carbon.super\", \"purposes\": [ { \"purposeId\": 1, \"purposeCategoryId\": [ 1 ], \"consentType\": \"EXPLICIT\", \"piiCategory\": [ { \"piiCategoryId\": 1, \"validity\": \"days:30\" }, { \"piiCategoryId\": 2, \"validity\": \"days:30\" } ], \"primaryPurpose\": true, \"termination\": \"days:30\", \"thirdPartyDisclosure\": false, \"thirdPartyName\": \"\" } ] } ], \"collectionMethod\": \"Sign-Up\", \"jurisdiction\": \"CA\", \"language\": \"EN\", \"policyURL\": \"https://foo.com/privacy\", \"properties\": [ { \"key\": \"k1\", \"value\": \"v1\" } ]}"
      x-wso2-response: |
        {"consentReceiptId":"38279263-f385-4252-8966-40998faa95ae","collectionMethod":"Sign-Up","language":"EN","piiPrincipalId":"admin","tenantDomain":"carbon.super"}
      summary: |
        Revoke the attribute
      parameters:
        - name: resource-name
          in: path
          description:  This represents the name of the attribute to be retrieved.
          required: true
          type: 'string'
        - name: resource-type
          in: path
          description:  This represents the type of the attribute to be deleted and can either be the name or id.
          required: true
          type: 'string'
        - name: attribute-key
          in: path
          description:  This represents an attribute key of the attribute to be deleted.
          required: true
          type: 'string'
      responses:
        200:
          description: Ok
        404:
          description: Not Found
          schema:
            $ref: '#/definitions/Error'
        400:
          description: Bad Request
          schema:
            $ref: '#/definitions/Error'
        401:
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        500:
          description: Server Error
          schema:
            $ref: '#/definitions/Error'
      tags:
        - Attribute

definitions:
  #-----------------------------------------------------
  # The Error Response  object
  #-----------------------------------------------------
  Error:
    type: object
    properties:
      code:
        type: string
      message:
        type: string
      description:
        type: string
  #-----------------------------------------------------
  # Resources object
  #-----------------------------------------------------
  Resources:
    type: object
    required:
      - resources
    properties:
      resources:
        type: array
        items:
          $ref: '#/definitions/Resource'
  #-----------------------------------------------------
  # Resource object
  #-----------------------------------------------------
  Resource:
    type: object
    required:
      - resourceId
      - resourceName
      - resourceType
      - lastModified
    properties:
      resourceId:
        type: string
      tenantDomain:
        type: string
      resourceName:
        type: string
      resourceType:
        type: string
      lastModified:
        type: string
      attributes:
        type: array
        items:
          $ref: '#/definitions/Attribute'
      files:
        type: array
        items:
          $ref: '#/definitions/ResourceFile'
  #-----------------------------------------------------
  # Resource Add object
  #-----------------------------------------------------
  ResourceAdd:
    type: object
    properties:
      name:
        type: string
      attributes:
        type: array
        items:
          $ref: '#/definitions/Attribute'
  #-----------------------------------------------------
  # Resource Type object
  #-----------------------------------------------------
  ResourceType:
    type: object
    properties:
      name:
        type: string
      id:
        type: string
      description:
        type: string
  #-----------------------------------------------------
  # Resource Type Create object
  #-----------------------------------------------------
  ResourceTypeAdd:
    type: object
    properties:
      name:
        type: string
      description:
        type: string
  #-----------------------------------------------------
  # Resource Attribute Object
  #-----------------------------------------------------
  Attribute:
    type: object
    required:
      - key
      - value
    properties:
      id:
        type: string
      key:
        type: string
      value:
        type: string
  #-----------------------------------------------------
  # Resource File Object
  #-----------------------------------------------------
  ResourceFile:
    type: object
    required:
      - path
    properties:
      id:
        type: string
      path:
        type: string
